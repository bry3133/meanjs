<!-- sponsors and admins should be able to see this -->

<section>
	<head>
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	</head>
	<div class="container">
	  <div class="row">
	  	<div class="col-md-6 headers">
	  		<h1 class="catalog-title image-left">Resume Portal</h1>
	  		<h4 id="cart" class="image-right vertical-bottom">
		    	<i class="glyphicon glyphicon-shopping-cart cart"></i><i>Cart</i>
		    </h4>
	  	</div>
	  </div>
	  <div class="row" ng-controller="CatalogController">
	    <div class="col-md-6">
	      	<div class="input-group catalog-search" id="searchBar">
	        	<span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
	        	<input type="text" class="form-control" placeholder="Search" ng-model="searchValue" ng-keyup="filterData()" />
	        	<span class="input-group-addon" id="sizing-addon2" ng-show="!shouldShowFilters" ng-hide="shouldShowFilters" ng-click="toggleFilterOptions()"><span class="glyphicon glyphicon-chevron-down"></span></span>
	        	<span class="input-group-addon" id="sizing-addon2" ng-show="shouldShowFilters" ng-hide="!shouldShowFilters" ng-click="toggleFilterOptions()"><span class="glyphicon glyphicon-chevron-up"></span></span>
	      	</div>
	      	<div ng-if="shouldShowFilters">
	      		<form id="filterOptions" name="filterOptions" class="filter-form" ng-submit="filterFromForm(filterOptions)">
			      	<fieldset class="filter-fieldset">
					  	<legend class="filter-legend">Filter By:</legend>
					  	<div class="filter-div">
					    	<input type="checkbox" id="availability" name="filter" value="availability" ng-click="filterOnForm()" ng-model="availabilityOption">
					    	<label for="availability">Available</label>
					  	</div>
					  	<div class="filter-div">
					    	<input type="checkbox" id="computer-science" name="filter" value="computer-science" ng-click="filterOnForm()" ng-model="csOption">
					    	<label for="computer-science">Computer Science</label>
					  	</div>
					  	<div class="filter-div" ng-if="vm.authentication.user.type === 'admin'">
					    	<input type="checkbox" id="student" name="filter" value="student" ng-click="filterOnForm()" ng-model="studentOption">
					    	<label for="student">Student</label>
					  	</div>
					  	<div class="filter-div" ng-if="vm.authentication.user.type === 'admin'">
					    	<input type="checkbox" id="sponsor" name="filter" value="sponsor" ng-click="filterOnForm()" ng-model="sponsorOption">
					    	<label for="sponsor">Sponsor</label>
					  	</div>
					</fieldset>
				</form>
	      	</div>
	    <div class="tableWrapper">
	        <table class="table table-striped table-hover">
	            <tbody class="container">
	                <tr ng-repeat="user in filteredUsersList" ng-click="showDetails($index)">
	                  <div>
	                    <td>
	                    	<img ngf-src="user.base64ProfileImageURL" alt="{{vm.user.displayName}}" class="img-thumbnail centerText user-profile-picture" ngf-drop height="50px" width="50px">
	                    </td>
	                    <td class="information leftText">
	                    	<div>
	                      		{{user.firstName}} {{user.lastName}}
                      		</div>
	                      	<div ng-if="user.type === 'student'">
	                      		Major: {{user.major}}
	                      	</div>
	                      	<div ng-if="user.type === 'student'">
	                      		Team: {{user.teamName}}
	                      	</div>
	                      	<div ng-if="user.type === 'sponsor'">
	                      		<i>sponsor</i>
	                      	</div>
	                    </td>
	                    <td>
	                    	<br><a class="actionButton" ng-click="emailUser(user)">Email</a>
	                    </td>
	                    <td>
	                    	<br><i class="actionButton glyphicon glyphicon-circle-arrow-down" style="font-size: 25px;"></i>
	                    </td>
	                    <td ng-if="isEditable && vm.authentication.user.type === 'admin'">
	                    	<br><button type="button" ng-click="editClicked(user)">Edit</button>
	                    </td>
	                  </div>
	                </tr>
	            </tbody>
	        </table>
	      </div>
	    </div>
	    <div class="col-md-6">
	      <div class="jumbotron">
	      	<div ng-if="detailedInfo.availabilityStatus" class="image-right availbility-status">
               	<i>Status: {{detailedInfo.availabilityStatus}}</i>
            </div>
	      	<h2>Detailed Information</h2>
            <li ng-if="!detailedInfo">
              Select a student to learn more!
            </li>
            <div ng-if="detailedInfo">
              	<li ng-if="detailedInfo.firstName">
                	Name: {{detailedInfo.firstName}}
              	</li>
	             <li ng-if="detailedInfo.major">
	                Major: {{detailedInfo.major}}
	            </li>
	            <li ng-if="detailedInfo.teamName">
	                Team: {{detailedInfo.teamName}}
	            </li>
	            <li ng-if="detailedInfo.bio">
	                Bio: {{detailedInfo.bio}}
	            </li>
	            <div class="detail-action-buttons-div" ng-if="vm.authentication.user.type === 'admin' || vm.authentication.user.type === 'sponsor'">
		        	<div id="addCart" class="image-left">
		            	<button type="addButton">Add to Cart</button>
		        	</div>
		        	<div class="image-right">	
		        		<button type="button" ng-click="goToStudentProfile()">Go To Profile</button>
		        	</div>
	            </div>
            </div>
	      </div>
	    </div>
	  </div>
	</div>
</section>